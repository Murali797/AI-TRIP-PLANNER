import { GoogleGenerativeAI } from "@google/generative-ai";
 
  
  const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-2.0-flash",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseModalities: [
    ],
    responseMimeType: "application/json",
  };
  

    export const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate Travel plan for Location : Las Vegas, for 3 days for Couple with a Cheap budget, Give me a Hotel options list with Hotel Name, Hotel address, Price, Hotel image url, geo coordinates, rating, description, and suggest itinerary, with Place Name, Place Details, Place image Url, Geo Coordinates, ticket pricing, rating, Time travel each of the location for 3 days with each day plan with best time to visit in JSON format "},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "```json\n{\n  \"destination\": \"Las Vegas\",\n  \"budget\": \"Cheap\",\n  \"duration\": \"3 days\",\n  \"travelers\": \"Couple\",\n  \"hotel_options\": [\n    {\n      \"hotel_name\": \"The LINQ Hotel + Experience\",\n      \"hotel_address\": \"3535 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price_per_night\": \"$40 - $80 (Varies greatly by season and day of week)\",\n      \"hotel_image_url\": \"https://cf.bstatic.com/xdata/images/hotel/max1024x768/121264882.jpg?k=c0842543c910276290602c2794548621e83375006d6c22d71478a25435d44136&o=&hp_room_group=0&sb_n_search_box=true\",\n      \"geo_coordinates\": {\n        \"latitude\": 36.1143,\n        \"longitude\": -115.1742\n      },\n      \"rating\": 3.5,\n      \"description\": \"Located in the heart of the Strip, this hotel offers a lively atmosphere, affordable rooms, and easy access to attractions. It features a popular promenade with shops, restaurants, and the High Roller observation wheel.\",\n      \"pros\": \"Good location, multiple food options, fun vibe, affordable\",\n      \"cons\": \"Can be noisy, rooms may be small.\"\n    },\n    {\n      \"hotel_name\": \"Excalibur Hotel & Casino\",\n      \"hotel_address\": \"3850 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price_per_night\": \"$30 - $70 (Varies)\",\n      \"hotel_image_url\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/14/e7/3f/ca/excalibur-hotel-casino.jpg?w=700&h=-1&s=1\",\n      \"geo_coordinates\": {\n        \"latitude\": 36.0995,\n        \"longitude\": -115.1742\n      },\n      \"rating\": 3.5,\n      \"description\": \"A castle-themed hotel, offering budget-friendly rooms, a variety of restaurants, and family-friendly entertainment like the Tournament of Kings dinner show. Located on the south end of the Strip.\",\n      \"pros\": \"Affordable, family-friendly, good amenities.\",\n      \"cons\": \"Can be crowded, location is a bit far from some attractions.\"\n    },\n        {\n      \"hotel_name\": \"Circus Circus Hotel, Casino & Theme Park\",\n      \"hotel_address\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price_per_night\": \"$30 - $60 (Varies)\",\n      \"hotel_image_url\": \"https://media-cdn.tripadvisor.com/media/photo-o/1a/05/f1/8b/exterior.jpg\",\n      \"geo_coordinates\": {\n        \"latitude\": 36.1435,\n        \"longitude\": -115.1692\n      },\n      \"rating\": 3.0,\n      \"description\": \"A budget-friendly hotel with a circus theme, offering live circus acts, a theme park (Adventuredome), and various dining options. Its on the north end of the Strip\",\n      \"pros\": \"Family friendly, circus acts, fun atmosphere.\",\n      \"cons\": \"Older property, can be noisy, location is a bit far from some attractions, not the best quality.\"\n    }\n  ],\n  \"itinerary\": {\n    \"day_1\": {\n      \"theme\": \"Exploring the Strip and Free Attractions\",\n      \"morning\": {\n        \"activity\": \"Walk the Las Vegas Strip\",\n        \"place_name\": \"The Strip (General)\",\n        \"place_details\": \"Start at the south end of the Strip and walk north, or vice versa, taking in the sights and sounds. See iconic hotels like the Bellagio, Caesars Palace, and the Venetian.\",\n        \"place_image_url\": \"https://www.planetware.com/wpimages/2020/01/nevada-las-vegas-attractions-the-strip.jpg\",\n        \"geo_coordinates\": {\n          \"latitude\": 36.1147,\n          \"longitude\": -115.1728\n        },\n        \"ticket_pricing\": \"Free\",\n        \"rating\": 5,\n        \"best_time_to_visit\": \"Early morning (before the heat) or late afternoon/evening.\",\n        \"time_needed\": \"2-3 hours\"\n      },\n      \"afternoon\": {\n        \"activity\": \"Bellagio Conservatory & Botanical Garden + Fountains of Bellagio\",\n        \"place_name\": \"Bellagio Conservatory & Botanical Garden\",\n        \"place_details\": \"Visit the free Conservatory, with seasonal displays. Then, watch the Fountains of Bellagio water show.\",\n        \"place_image_url\": \"https://www.bellagio.com/content/dam/bellagio/resort/amenities/bellagio-conservatory-botanical-garden/bellagio-conservatory-botanical-garden-hero-960x635.jpg\",\n        \"geo_coordinates\": {\n          \"latitude\": 36.1126,\n          \"longitude\": -115.1728\n        },\n        \"ticket_pricing\": \"Free\",\n        \"rating\": 5,\n        \"best_time_to_visit\": \"Anytime, but the evening shows are especially beautiful.\",\n        \"time_needed\": \"1.5-2 hours\"\n      },\n      \"evening\": {\n        \"activity\": \"Explore the LINQ Promenade\",\n        \"place_name\": \"The LINQ Promenade\",\n        \"place_details\": \"Walk through the LINQ Promenade, enjoying the shops, restaurants, and the High Roller observation wheel. Consider a budget-friendly dinner option here (e.g., In-N-Out Burger).\",\n        \"place_image_url\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/0c/87/45/6e/linq-promenade.jpg?w=700&h=-1&s=1\",\n        \"geo_coordinates\": {\n          \"latitude\": 36.1143,\n          \"longitude\": -115.1742\n        },\n        \"ticket_pricing\": \"Free to enter promenade, food/drinks are at your own cost.\",\n        \"rating\": 4,\n        \"best_time_to_visit\": \"Evening, when the promenade is lit up.\",\n        \"time_needed\": \"2-3 hours\"\n      }\n    },\n    \"day_2\": {\n      \"theme\": \"Downtown Las Vegas & Fremont Street Experience\",\n      \"morning\": {\n        \"activity\": \"Visit the Arts District\",\n        \"place_name\": \"Las Vegas Arts District\",\n        \"place_details\": \"Explore the vibrant Arts District, with its murals, art galleries, and unique shops. Its north of the strip, a great place to see how art is mixed with life.\",\n        \"place_image_url\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/15/79/79/8b/las-vegas-arts-district.jpg?w=700&h=-1&s=1\",\n        \"geo_coordinates\": {\n          \"latitude\": 36.1593,\n          \"longitude\": -115.1477\n        },\n        \"ticket_pricing\": \"Free (explore galleries, street art)\",\n        \"rating\": 4.5,\n        \"best_time_to_visit\": \"Morning or afternoon, allowing for time to walk around in the shade.\",\n        \"time_needed\": \"2-3 hours\"\n      },\n      \"afternoon\": {\n        \"activity\": \"Fremont Street Experience\",\n        \"place_name\": \"Fremont Street Experience\",\n        \"place_details\": \"Head downtown to Fremont Street. Experience the Viva Vision light show, walk through the area, and enjoy the lively atmosphere.  Consider a budget-friendly lunch at one of the many casual restaurants.\",\n        \"place_image_url\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/16/03/8b/2f/fremont-street-experience.jpg?w=700&h=-1&s=1\",\n        \"geo_coordinates\": {\n          \"latitude\": 36.1700,\n          \"longitude\": -115.1413\n        },\n        \"ticket_pricing\": \"Free (for the experience and walking around).\",\n        \"rating\": 4.5,\n        \"best_time_to_visit\": \"Afternoon/Evening, especially to see the light show and the lively atmosphere.\",\n        \"time_needed\": \"3-4 hours\"\n      },\n      \"evening\": {\n        \"activity\": \"Explore Downtown\",\n        \"place_name\": \"Downtown Las Vegas\",\n        \"place_details\": \"Explore different casinos, see free shows and street performers. Look for happy hour deals at restaurants and bars.\",\n        \"place_image_url\": \"https://d3231b40005n5j.cloudfront.net/wp-content/uploads/2023/12/downtown-las-vegas-1.jpg\",\n        \"geo_coordinates\": {\n          \"latitude\": 36.1700,\n          \"longitude\": -115.1413\n        },\n        \"ticket_pricing\": \"Free (Explore and street performers).\",\n        \"rating\": 4.0,\n        \"best_time_to_visit\": \"Night to experience the vibe.\",\n        \"time_needed\": \"2-3 hours\"\n      }\n    },\n    \"day_3\": {\n      \"theme\": \"Pool Time & Optional Activities\",\n      \"morning\": {\n        \"activity\": \"Pool Time\",\n        \"place_name\": \"Hotel Pool\",\n        \"place_details\": \"Relax and enjoy the pool at your hotel. (Remember to pack sunscreen!).  Many hotels offer free pool access to guests.\",\n        \"place_image_url\": \"https://www.travelpulse.com/getmedia/0b9e8b26-28b0-444a-ad93-b92d050c7d14/Las-Vegas-pool-GettyImages-953430248.aspx\",\n        \"geo_coordinates\": \"See Hotel Geo Coordinates\",\n        \"ticket_pricing\": \"Free (with hotel access)\",\n        \"rating\": 4,\n        \"best_time_to_visit\": \"Morning/Afternoon.\",\n        \"time_needed\": \"2-3 hours\"\n      },\n      \"afternoon\": {\n        \"activity\": \"High Roller Observation Wheel (Optional - if budget allows)\",\n        \"place_name\": \"High Roller Observation Wheel\",\n        \"place_details\": \"If your budget allows, ride the High Roller for panoramic views of the Strip and the surrounding area.\",\n        \"place_image_url\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/15/3b/04/d8/photo0jpg.jpg?w=700&h=-1&s=1\",\n        \"geo_coordinates\": {\n          \"latitude\": 36.1143,\n          \"longitude\": -115.1742\n        },\n        \"ticket_pricing\": \"$20 - $40 per person (check for deals/discounts)\",\n        \"rating\": 4,\n        \"best_time_to_visit\": \"Late afternoon/early evening for sunset views.\",\n        \"time_needed\": \"1-2 hours\"\n      },\n      \"evening\": {\n        \"activity\": \"Free Show & Farewell Dinner\",\n        \"place_name\": \"Free Show (e.g., a casino show or street performers) and a final dinner.\",\n        \"place_details\": \"Check for free shows at casinos (e.g., the volcano show at the Mirage). Have your final dinner somewhere budget-friendly, such as a food court or a less expensive restaurant, or enjoy a final walk on the Strip.\",\n        \"place_image_url\": \"https://www.mgmresorts.com/content/dam/MGM/mirage/mirage-resort/hero/The-Mirage-Volcano-Hero.jpg\",\n        \"geo_coordinates\": \"Varies by show location.  Check specific locations.\",\n        \"ticket_pricing\": \"Free (for free shows) and at your expense.\",\n        \"rating\": 4,\n        \"best_time_to_visit\": \"Evening.\",\n        \"time_needed\": \"2-3 hours\"\n      }\n    }\n  },\n  \"notes\": \"This itinerary prioritizes free or low-cost activities. Prices are estimates and can fluctuate. Consider using public transportation (the Deuce or SDX buses) or ride-sharing to save on transportation costs. Drink water to stay hydrated, especially during the hotter months. Be aware of the crowds and plan accordingly.\"\n}\n```"},
          ],
        },
      ],
    });
  
   
  
  
